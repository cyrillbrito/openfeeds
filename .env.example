# OpenFeeds Environment Configuration
# Copy to .env and fill in your values
# All apps read from this root .env via --env-file=../../.env in their scripts
# No need to copy .env into individual app directories

# ── App ──────────────────────────────────────────────────────────
# Public URL of the web app (required for OAuth/MCP)
BASE_URL=http://localhost:3000

# ── Database ─────────────────────────────────────────────────────
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/openfeeds

# ── Redis (BullMQ) ──────────────────────────────────────────────
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ── Authentication (Better Auth) ────────────────────────────────
# Generate secret: openssl rand -hex 32
BETTER_AUTH_SECRET=
TRUSTED_ORIGINS=http://localhost:3000
# Skip email verification in dev
SIMPLE_AUTH=true

# ── Social Login (Optional) ──────────────────────────────────────
# Google: Create OAuth credentials at https://console.cloud.google.com/apis/credentials
# Redirect URI: {BASE_URL}/api/auth/callback/google
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
# Apple: Create credentials at https://developer.apple.com/account/resources
# Redirect URI: {BASE_URL}/api/auth/callback/apple
# Note: Apple Sign In requires HTTPS — does not work on localhost
APPLE_CLIENT_ID=
APPLE_CLIENT_SECRET=

# ── Electric SQL ─────────────────────────────────────────────────
# ELECTRIC_URL=http://localhost:3060
# Cloud-only (optional - only if using Electric Cloud instead of self-hosted)
# Get these from your Electric Cloud dashboard
ELECTRIC_SOURCE_ID=
ELECTRIC_SOURCE_SECRET=

# ── Email (Resend) - Optional ───────────────────────────────────
RESEND_API_KEY=
# Marketing waitlist audience (only used by apps/marketing)
RESEND_AUDIENCE_ID=

# ── Analytics (PostHog) - Optional ──────────────────────────────
POSTHOG_PUBLIC_KEY=

# ── Text-to-Speech (Unreal Speech) - Optional ──────────────────
UNREAL_SPEECH_API_KEY=
TTS_DEFAULT_VOICE=Scarlett
# Local file storage for TTS audio files
DATA_PATH=./data

# ── Worker Tuning - Optional ────────────────────────────────────
# Conservative defaults for small VMs. Increase for higher throughput.
# WORKER_CONCURRENCY_ORCHESTRATOR=1
# WORKER_CONCURRENCY_FEED_SYNC=2
# WORKER_CONCURRENCY_FEED_DETAILS=1
# WORKER_CONCURRENCY_AUTO_ARCHIVE=1
