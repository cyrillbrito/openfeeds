{
  "$schema": "./node_modules/oxlint/configuration_schema.json",
  "plugins": ["unicorn", "typescript", "oxc", "import"],
  "categories": {},
  "rules": {
    // --- Circular dependencies & import graph ---
    "import/no-cycle": "error", // Detect circular imports between modules
    "import/no-self-import": "error", // Module importing itself — infinite loop

    // --- Import hygiene ---
    "import/no-mutable-exports": "error", // `export let` causes shared-state bugs across packages
    "import/no-commonjs": "error", // Monorepo is ESM-only — require() is always wrong
    "import/no-absolute-path": "error", // Absolute paths break across environments
    "import/no-empty-named-blocks": "warn", // `import {} from "x"` — dead import
    "import/no-named-as-default-member": "warn", // Accessing named export as property of default
    "import/max-dependencies": ["warn", { "max": 25 }], // Flag files importing too many modules — sign of god-file

    // --- Barrel files & re-export bloat ---
    // "oxc/no-barrel-file": "warn", // Files that only re-export — hurts tree-shaking and import resolution

    // --- Type imports — cleaner output, faster builds ---
    "typescript/consistent-type-imports": "warn", // Use `import type {}` for type-only imports
    "typescript/no-import-type-side-effects": "warn", // `import { type X }` → `import type { X }` when all are types
    "typescript/no-require-imports": "error" // ESM-only — no require() calls
  },
  "overrides": [
    {
      "files": ["apps/e2e/**/*.ts"],
      "rules": {
        "no-unused-vars": "off",
        "import/no-mutable-exports": "off"
      }
    },
    {
      "files": ["apps/marketing/src/components/PostHog.astro"],
      "rules": {
        "no-unused-expressions": "off",
        "number-arg-out-of-range": "off"
      }
    },
    {
      "files": ["apps/marketing/src/env.d.ts"],
      "rules": {
        "typescript/consistent-type-imports": "off"
      }
    }
  ],
  "settings": {
    "jsx-a11y": {
      "polymorphicPropName": null,
      "components": {},
      "attributes": {}
    },
    "next": {
      "rootDir": []
    },
    "react": {
      "formComponents": [],
      "linkComponents": [],
      "version": null,
      "componentWrapperFunctions": []
    },
    "jsdoc": {
      "ignorePrivate": false,
      "ignoreInternal": false,
      "ignoreReplacesDocs": true,
      "overrideReplacesDocs": true,
      "augmentsExtendsReplacesDocs": false,
      "implementsReplacesDocs": false,
      "exemptDestructuredRootsFromChecks": false,
      "tagNamePreference": {}
    },
    "vitest": {
      "typecheck": false
    }
  },
  "env": {
    "builtin": true
  },
  "globals": {},
  "ignorePatterns": []
}
